manifest {
    mainScript = 'main.nf'
}

includeConfig "$baseDir/params.config"
 

process {
    memory='4G'
    cpus='1'
    time='6h'
    scratch = false

    withLabel: big_mem_cpus {
        cpus = 2
        memory = '7G'
    }
 
     withLabel: big_mem {
        cpus = 1
        memory = '7G'
    }
 
}


process.container = 'lucacozzuto/vectorqc'
// Decommment in case you have docker (default is docker)
// docker.enabled = true
// Decommment in case you have singularity
singularity.enabled = true
singularity.cacheDir = "$baseDir/../singularity"

profiles {
  
  awsbatch {
    workDir = 's3://mys3bucket/work'
    process.executor = 'awsbatch'
    process.queue = 'mybatchqueue'
    executor.awscli = '/home/ec2-user/miniconda/bin/aws'
    aws.region = 'eu-west-3'    
  }

}
